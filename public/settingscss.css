  :root {
    --settings-bg: #070b14;
    --surface: rgba(13, 18, 32, 0.86);
    --surface-strong: rgba(17, 24, 41, 0.9);
    --border-soft: rgba(255, 255, 255, 0.08);
    --border-strong: rgba(255, 255, 255, 0.16);
    --text-strong: rgba(248, 250, 255, 0.98);
    --text-muted: rgba(186, 198, 232, 0.76);
    --settings-muted: rgba(186, 198, 232, 0.76);
    --accent: #78a5ff;
    --accent-strong: #98c1ff;
    --danger: #ff4d61;
    --radius-lg: 28px;
    --radius-md: 18px;
    --radius-sm: 12px;
    --menu-left: 32px;
    color-scheme: dark;
  }

  /* dacă html are clasa no-admin, tot ce e data-admin-only dispare instant */
  .no-admin [data-admin-only] {
    display: none !important;
  }

  *, *::before, *::after { box-sizing: border-box; }
  body { 
    margin: 0; 
    min-height: 100vh; 
    font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', sans-serif; 
    color: var(--text-strong, #fff); 
    line-height: 1.6; 
    overflow-x: hidden; 
    transition: background 0.4s ease; 

    /* Fundal gri închis + spoturi luminoase default */
    background: 
      radial-gradient(circle at top left, rgba(160,160,160,0.28), transparent 65%),
      radial-gradient(circle at bottom right, rgba(140,140,140,0.22), transparent 70%),
      #1a1a1a;
    background-blend-mode: screen;
  }

  body[data-bg-type="image"],
  body[data-bg-type="template"] {
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    background-attachment: fixed;
  }

  a { color: inherit; text-decoration: none; }

  .settings-stage { position:relative; display:flex; min-height:100vh; isolation:isolate; padding-left:320px; }
  .settings-main { flex:1; padding:96px clamp(24px,4vw,80px) 120px; width:100%; max-width:1024px; margin:0 auto; display:flex; flex-direction:column; gap:36px; }

  .page-hero { display:absolute; align-items:center; justify-content:space-between; gap:20px; padding:26px clamp(18px,3vw,38px); border-radius:var(--radius-lg); background:rgba(10, 14, 26, 0.65); border:1px solid rgba(255, 255, 255, 0.08); backdrop-filter:blur(22px); position:sticky; top:24px; z-index:5; box-shadow:0 24px 60px rgba(4, 8, 18, 0.35); }
  .hero-avatars img{ 
    position: absolute;
    width: 5px !important; 
    height: 10px !important; 
  }
  .page-hero h1 { margin:0; font-size:clamp(1.4rem,2vw,1.8rem); font-weight:600; letter-spacing:-0.01em; text-align: center; }
  .page-hero p { margin:4px 0 0; color:var(--text-muted); font-size:0.95rem; text-align: center;}

  .drawer-backdrop { display: none; }
  .settings-drawer { position:fixed; inset:32px auto 32px 32px; width:280px; padding:28px 24px 32px; display:flex; flex-direction:column; gap:24px; background:rgba(9,13,24,0.92); border-right:1px solid rgba(255,255,255,0.08); box-shadow:0 28px 60px rgba(5,8,20,0.65); z-index:70; overflow:hidden; border-radius:28px; height:calc(100vh - 64px); transform:translate3d(0,0,0); }
  .settings-drawer::before { content:''; position:absolute; inset:-20% -30% -40% -40%; background:radial-gradient(220px circle at var(--cursor-x,50%) var(--cursor-y,30%), rgba(120,167,255,0.35), transparent 70%); opacity:var(--cursor-opacity,0); transition:opacity .5s ease; pointer-events:none; mix-blend-mode:screen; }
  .settings-drawer.glow-active::before { opacity: var(--cursor-opacity, 0.75); }
  .drawer-top { display:flex; align-items:center; justify-content:flex-start; gap:12px; }
  .drawer-brand { display:flex; align-items:center; gap:14px; }
  .drawer-brand strong { font-size:1.12rem; font-weight:600; margin-left:103px; margin-top:20px; letter-spacing:-0.01em; }
  .drawer-brand span { position:absolute; display:block; font-size:0.72rem; letter-spacing:0.08em; margin-left:103px; margin-top:-5px; text-transform:uppercase; color:var(--text-muted); }

  .drawer-nav { display:flex; flex-direction:column; gap:10px; margin-top:18px; }

  /* wrapper ca să împingă logout-ul jos */
  .drawer-logout-wrap {
    margin-top: auto;
    padding-top: 12px;
    border-top: 1px solid rgba(255, 255, 255, 0.08);
    display: flex;
  }

  .logoute {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;

    background: #de3246;
    color: #fff;
    border: 1px solid #ff3045;
    border-radius: 16px;
    font-weight: 600;
    padding: 11px 16px;
    cursor: pointer;
    transition: background .2s ease, border-color .2s ease, transform .2s ease;
  }

  .logoute:hover {
    background: #c63b4b;
    border-color: #ff4d61;
  }

.drawer-item {
  position: relative;
  display: flex;
  align-items: center;
  gap: 14px;
  width: 100%;
  border: none;
  border-radius: 18px;
  padding: 14px 18px;
  background: rgba(13, 18, 32, 0.62);
  color: var(--text-muted);
  font-size: 0.92rem;
  font-weight: 500;
  letter-spacing: 0.01em;
  cursor: pointer;
  transition: background 0.25s ease, color 0.25s ease, transform 0.25s ease;
  overflow: hidden;
  box-shadow: none;
}

.drawer-item::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(120deg, rgba(120,167,255,0.2), transparent 60%);
  opacity: 0;
  transition: opacity 0.35s ease;
  pointer-events: none;
}

.drawer-item svg { width:18px; height:18px; flex:0 0 auto; }

.drawer-item:hover {
  color: #fff;
  background: rgba(255, 255, 255, 0.05);
}

.drawer-item.active {
  color: #fff;
  background: rgba(255, 255, 255, 0.08);
  font-family: 'gg sans', -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  font-size: 15px;
  font-weight: 500;
  border: none;
  box-shadow: none;
  animation: apple-activate 0.28s cubic-bezier(.4, 0, .2, 1);
}

@keyframes apple-activate {
  0% { opacity: 0.6; transform: scale(0.99); }
  60% { opacity: 1; transform: scale(1.015); }
  100% { opacity: 1; transform: scale(1); }
}

  .settings-panel { display:none; flex-direction:column; gap:28px; animation:panel-in .55s cubic-bezier(.16,1,.3,1); }
  .settings-panel.is-active { display:flex; }

  @keyframes panel-in { from { opacity:0; transform:translateY(14px);} to { opacity:1; transform:translateY(0);} }

  .settings-card { background:var(--surface); border:1px solid var(--border-soft); border-radius:var(--radius-lg); padding:clamp(22px,3vw,34px); backdrop-filter:blur(24px); box-shadow:0 32px 58px rgba(5,10,28,0.32); display:flex; flex-direction:column; gap:22px; }
  .card-header { display:flex; align-items:flex-start; justify-content:space-between; gap:24px; }
  .card-header h2 { margin:0; font-size:1.2rem; letter-spacing:-0.01em; }
  .card-header p { margin:6px 0 0; color:var(--text-muted); font-size:0.92rem; }

  .settings-grid { display:grid; gap:18px; }
  .settings-grid.double { grid-template-columns:repeat(auto-fit, minmax(220px, 1fr)); }

  label { font-weight:500; font-size:0.88rem; display:block; margin-bottom:6px; letter-spacing:0.01em; }

  input[type="text"], input[type="email"], input[type="password"], input[type="color"] {
    width:100%; border-radius:16px; border:1px solid rgba(255,255,0,0.12); background:rgba(9,13,24,0.78);
    color:#fff; font-size:0.95rem; padding:12px 14px; transition:border-color .3s ease, box-shadow .3s ease;
  }
  input[disabled] {
    opacity: 0.6;
    cursor: not-allowed;
  }
  input[type="color"] { height:48px; padding:0; border-radius:16px; overflow:hidden; }

  input:focus { outline:none; border-color:rgba(120,167,255,0.7); box-shadow:0 0 0 3px rgba(120,167,255,0.18); }

  .template-grid { display:grid; grid-template-columns:repeat(auto-fill, minmax(120px, 1fr)); gap:14px; border-radius: 1px; border: none;}
  .template-option { position:relative; border:1px solid rgba(255,255,255,0.1); border-radius:5px; padding:0; min-height:96px; background-size:cover; background-position:center; background-repeat:no-repeat; cursor:pointer; transition:transform .3s ease,border-color .3s ease; overflow:hidden; border: none;}
  .template-option::after { content:''; position:absolute; inset:0; background:linear-gradient(140deg, rgba(8, 12, 24, 0.327), transparent 70%); opacity:0; transition:opacity .3s ease; border: none;}
  .template-option:hover { transform:translateY(-1px); border: none; }
  .template-option:hover::after { opacity:1; border: none;}
  .template-option.active { transform: translateY(-5px); border: none;}

  .settings-actions { display:flex; flex-wrap:wrap; gap:12px; align-items:center; }
  .btn { display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:11px 20px; border-radius:999px; border:1px solid rgba(255,255,255,0.16); background:transparent; color:#fff; font-size:0.92rem; letter-spacing:0.01em; cursor:pointer; transition:border-color .3s ease, color .3s ease, background .3s ease, box-shadow .3s ease, transform .3s ease; }
  .btn.primary { color:#060b16; background:var(--accent); border-color:rgba(255,255,255,0.2); margin-top: 20px;}
  .btn.primary:hover { background:var(--accent-strong); }
  .btn.subtle { color:var(--text-muted); }
  .btn.subtle:hover { color:#fff; border-color:rgba(255,255,255,0.32); }
  .btn.danger { color:var(--danger); border-color:rgba(255,77,97,0.6); }
  .btn.danger:hover { color:#fff; border-color:rgba(255,77,97,0.85); background:rgba(255,77,97,0.12); }

  .status-line { 
    font-size:0.85rem; 
    color:var(--text-muted); 
    min-height:1.2em; 
    display:none;
  }
  .status-line.success { color:rgba(136,208,146,0.9); }
  .status-line.error { color:rgba(255,126,146,0.9); }

  .status-line[data-inline="true"] {
    display:block;
  }

  .password-grid { display:grid; gap:18px; grid-template-columns:repeat(auto-fit, minmax(220px, 1fr)); }
  .account-row { display:flex; align-items:center; justify-content:space-between; gap:18px; padding:14px 18px; border:1px solid rgba(255,255,255,0.08); border-radius:16px; background:rgba(13,18,32,0.65); }
  .account-row .identity { display:flex; flex-direction:column; gap:4px; }
  .account-row strong { font-weight:600; }
  .account-row span { color:var(--text-muted); font-size:0.85rem; }

  .segmented { display:inline-flex; align-items:center; border:1px solid rgba(255,255,255,0.16); background:rgba(13,18,32,0.62); border-radius:999px; padding:4px; gap:6px; }
  .segmented button { border:0; background:transparent; color:var(--text-muted); padding:10px 16px; border-radius:999px; font-weight:600; letter-spacing:.01em; cursor:pointer; transition:background .25s ease, color .25s ease, transform .25s ease; }
  .segmented button[aria-pressed="true"], .segmented button.active { background:var(--accent); color:#060b16; transform:translateY(-1px); }
  .segmented button:focus-visible { outline:none; box-shadow:0 0 0 3px rgba(120,167,255,0.35); }

  @media (max-width:1023px) {
    .settings-stage { padding-left:0; }
    .settings-drawer { position:fixed; inset:0 auto 0 0; width:min(260px,82vw); border-radius:0 28px 28px 0; height:100vh; }
    .settings-main { padding-left:calc(min(260px,82vw) + 16px); }
  }
  @media (max-width:720px) {
    .page-hero { flex-direction:column; align-items:flex-start; position:static; box-shadow:none; }
    .settings-main { padding-top:120px; padding-left:calc(min(240px,78vw) + 16px); }
  }

  #backgroundColor {
    -webkit-appearance: none;
    border: none;
    width: 280px;
    height: 48px;
    padding: 0;
    border-radius: 8px;
    background: none;
    cursor: pointer;
  }
  #backgroundColor::-webkit-color-swatch-wrapper { padding: 0; }
  #backgroundColor::-webkit-color-swatch {
    border: none;
    border-radius: 8px;
  }
  #backgroundColor::-moz-color-swatch {
    border: none;
    border-radius: 8px;
  }

  .section-divider {
    width: 100%;
    height: 1px;
    background: rgba(255, 255, 255, 0.08);
    border-radius: 999px;
  }

  .upload-row {
    display: flex;
    flex-wrap: wrap;
    align-items: flex-start;
    justify-content: space-between;
    gap: 16px;
  }

  .upload-head {
    flex: 1 1 auto;
    min-width: 0;
    display: flex;
    flex-direction: column;
    gap: 4px;
  }

  .upload-title {
    font-weight: 600;
    font-size: 0.9rem;
    color: var(--text-strong);
    letter-spacing: -0.01em;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .upload-desc {
    font-size: 0.8rem;
    line-height: 1.4;
    color: var(--text-muted);
  }

  .upload-action {
    flex-shrink: 0;
  }

  .upload-btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.16);
    border-radius: 999px;
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--text-strong);
    padding: 10px 16px;
    line-height: 1.2;
    cursor: pointer;
    transition: background .2s ease, box-shadow .2s ease, border-color .2s ease;
  }

  .upload-btn:hover {
    background: rgba(255,255,255,0.1);
  }

  .upload-btn svg {
    width: 16px;
    height: 16px;
    flex-shrink: 0;
    color: var(--text-strong);
  }

  .file-status {
    font-size: 0.8rem;
    color: var(--text-muted);
    margin-top: -4px;
    min-height: 1em;
    word-break: break-all;
  }

  .edge-toast {
    position: fixed;
    top: 24px;
    right: 24px;
    z-index: 9999;
    min-width: 240px;
    max-width: 320px;

    display: flex;
    align-items: flex-start;
    gap: 12px;

    background: rgba(13,18,32,0.9);
    border: 1px solid rgba(255,255,255,0.16);
    border-radius: 16px;
    box-shadow: 0 30px 80px rgba(0,0,0,0.7);

    padding: 14px 16px;
    line-height: 1.4;

    opacity: 0;
    transform: translateY(-12px) scale(.96);
    pointer-events: none;
    transition: opacity .25s cubic-bezier(.16,1,.3,1),
                transform .25s cubic-bezier(.16,1,.3,1);
  }

  .edge-toast.show {
    opacity: 1;
    transform: translateY(0) scale(1);
    pointer-events: auto;
  }

  .edge-toast[data-type="ok"] {
    height: 55px;
    width: 1000px;
  }
  .edge-toast[data-type="error"] {
    height: 70px;
    width: 20px;
  }

  .edge-toast-icon {
    flex-shrink: 0;
    width: 24px;
    height: 24px;
    border-radius: 8px;
    background: rgba(120,167,255,0.18);
    color: var(--accent);
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .edge-toast[data-type="error"] .edge-toast-icon {
    color: var(--danger);
    margin-top: 9px;
  }
  .edge-toast[data-type="ok"] .edge-toast-icon {
    color: rgb(60, 255, 0);
  }
  .edge-toast[data-type="error"] .edge-toast-close {
    margin-top: 9px;
  }
  .edge-toast[data-type="ok"] .edge-toast-msg {
    white-space: nowrap;
  }
  .edge-toast-icon svg {
    width: 16px;
    height: 16px;
    stroke: currentColor;
  }

  .edge-toast-msg {
    flex: 1 1 auto;
    min-width: 0;
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--text-strong);
    word-break: break-word;
  }

  .edge-toast-close {
    appearance: none;
    border: 1px solid rgba(255,255,255,0.14);
    background: rgba(255,255,255,0.07);
    border-radius: 8px;
    line-height: 0;
    padding: 4px;
    cursor: pointer;
    color: #fff;
    flex-shrink: 0;

    opacity: 0;
    transition: opacity .2s ease, background .2s ease;
  }

  .edge-toast:hover .edge-toast-close {
    opacity: 1;
  }

  .edge-toast-close:hover {
    background: rgba(187, 59, 59, 0.864);
  }

  .edge-toast-close svg {
    width: 14px;
    height: 14px;
    stroke: currentColor;
  }

  .resetbutton:hover {
    background: rgba(101, 98, 98, 0.1);
  }

  .resetbutton i {
    color: white;
  }

  .modal-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.6);
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 9998;
    padding: 24px;
  }

  .modal-backdrop.open {
    display: flex;
  }

  .modal-card {
    background: rgba(13,18,32,0.9);
    border: 1px solid rgba(255,255,255,0.12);
    border-radius: 20px;
    box-shadow: 0 40px 120px rgba(0,0,0,0.8);
    width: 100%;
    max-width: 400px;
    color: #fff;
    padding: 24px 24px 20px;
    position: relative;
  }

  .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 16px;
  }

  .modal-header .title-block {
    display: flex;
    flex-direction: column;
    gap: 4px;
  }

  .modal-header h2 {
    margin: 0;
    font-size: 1.05rem;
    font-weight: 600;
    letter-spacing: -0.02em;
    color: var(--text-strong);
  }

  .modal-header p {
    margin: 0;
    font-size: 0.8rem;
    line-height: 1.4;
    color: var(--text-muted);
  }

  .modal-close-btn {
    appearance: none;
    border: 1px solid rgba(255,255,255,0.14);
    background: rgba(255,255,255,0.07);
    border-radius: 8px;
    line-height: 0;
    padding: 6px 7px;
    cursor: pointer;
    color: #fff;
    flex-shrink: 0;
    font-size: 0.8rem;
  }

  .modal-close-btn:hover {
    background: rgba(255,255,255,0.12);
  }

  .modal-close-btn svg {
    width: 14px;
    height: 14px;
    stroke: currentColor;
  }

  .modal-body form {
    display: grid;
    grid-template-columns: 1fr;
    gap: 16px;
  }

  .modal-body label {
    font-weight: 500;
    font-size: 0.8rem;
    display: block;
    color: var(--text-strong);
    margin-bottom: 6px;
    letter-spacing: 0.01em;
  }

  .modal-body input[type="text"],
  .modal-body input[type="email"],
  .modal-body input[type="password"] {
    width: 100%;
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.12);
    background: rgba(9,13,24,0.78);
    color: #fff;
    font-size: 0.9rem;
    padding: 11px 12px;
    transition: border-color .3s ease, box-shadow .3s ease;
  }

  .modal-body input:focus {
    outline: none;
    border-color: rgba(120,167,255,0.7);
    box-shadow: 0 0 0 3px rgba(120,167,255,0.18);
  }

  .modal-footer {
    margin-top: 8px;
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .modal-footer .btn.primary {
    width: 100%;
    justify-content: center;
    margin-top: 0;
  }

  #createAccountStatus {
    font-size: 0.8rem;
    line-height: 1.4;
    min-height: 1.2em;
    color: var(--settings-muted);
    word-break: break-word;
  }

  .todashboard {
    position: absolute;
    border-radius: 20px;
    height: 40px;
    width: 20px;
    padding: 20px;
    color: white;
    background-color: rgba(57, 57, 57, 0.8);
    left: 97%;
    top: 2%;

    display: flex;
    justify-content: center;
    align-items: center;
  }

  @media(max-width: 768px) {
    .todashboard {
      left: 97%;
    }
  }
    
  .todashboard:hover {
    background-color: rgba(97, 97, 97, 0.668)
  }